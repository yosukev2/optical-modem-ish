# Dev Process（運用ルール）

このリポジトリは「実務っぽく開発できること」を目的に、最低限の運用ルールを定める。

---

## ブランチ運用
- 常用ブランチは `main`。
- 変更は原則ブランチを切って行う：
  - `feature/<topic>`：機能追加
  - `fix/<topic>`：バグ修正
  - `docs/<topic>`：ドキュメント
  - `chore/<topic>`：雑務（CI/設定/運用）

例：
- `feature/per-ber-measure`
- `fix/crc-fail-on-long-cable`

---

## 1PRは小さく
- 1PRは「1目的」に絞る。
- 目安：レビューが10分で終わるサイズ。
- 大きくなる場合は PR を分割する（先にリファクタ、次に機能追加、など）。

---

## Definition of Done（DoD）
PRを `main` に入れる条件（最低ライン）：

1. **Whyが説明できる**
   - PR本文に「なぜ必要か」が書かれていること

2. **証拠がある**
   - ログ/スクショ/測定結果など、第三者が追体験できる証拠が添付されていること  
   - 例：PER/BERログ、リンク確立ログ、波形、端末出力

3. **必要なdocsが更新されている**
   - 仕様変更があるなら `docs/spec.md` / `docs/protocol.md` 等に反映
   - ログ形式変更なら `docs/log_format.md` を更新

4. **回帰テストが考慮されている**
   - バグ修正は原則、再発防止のテスト（手順 or 自動）を追加する
   - 少なくとも「どう再発を検知するか」をPRに書く

---

## Issue運用（最低限）
- バグは `bug` ラベルを付け、再現手順・証拠（ログ）を必須とする。
- 優先度は `P0/P1/P2` を付ける（迷ったらP1）。

---

## レビュー観点（セルフレビュー用）
- 変更は最小か（不要な差分が混ざっていないか）
- 破壊的変更はないか（互換性・ログ形式）
- ログ/証拠は十分か
- docs/test 更新漏れはないか
